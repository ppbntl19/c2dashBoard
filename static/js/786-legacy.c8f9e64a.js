"use strict";(self["webpackChunkc2_cms_admin"]=self["webpackChunkc2_cms_admin"]||[]).push([[786],{43864:function(e,t,a){a.d(t,{Z:function(){return f}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"app-container"},[a("el-form",{ref:"validateForm",attrs:{model:e.formData,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"Name",prop:"name"}},[a("el-input",{attrs:{type:"email"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"Email",prop:"email"}},[a("el-input",{attrs:{type:"email",disabled:"update"===e.type},model:{value:e.formData.email,callback:function(t){e.$set(e.formData,"email",t)},expression:"formData.email"}})],1),a("el-form-item",{attrs:{label:"Username",prop:"username"}},[a("el-input",{attrs:{disabled:"update"===e.type},model:{value:e.formData.username,callback:function(t){e.$set(e.formData,"username",t)},expression:"formData.username"}})],1),"update"!==e.type?a("el-form-item",{attrs:{label:"Password",prop:"password"}},[a("el-input",{attrs:{type:"password"},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}})],1):e._e(),a("el-form-item",{attrs:{label:"Status",prop:"status"}},[a("el-switch",{model:{value:e.formData.status,callback:function(t){e.$set(e.formData,"status",t)},expression:"formData.status"}}),e._v(" "+e._s(e.formData.status?"On":"Disable")+" ")],1),a("el-form-item",{attrs:{label:"About",prop:"intro"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.formData.intro,callback:function(t){e.$set(e.formData,"intro",t)},expression:"formData.intro"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("validateForm")}}},[e._v("Submit")])],1)],1)],1)},n=[],s=(a(57658),a(77470)),o=a(62103),u=s.v.routePath,i={name:"CreateUpdate",filters:{},props:{type:{type:String}},data:function(){return{loading:!1,querys:{id:""},formData:{id:"",username:"",email:"",name:"",password:"",role:"user",status:!0,avatar:"",intro:""},rules:{email:[{required:!0,message:"Please enter Email",trigger:"blur"},{min:3,max:100,message:"3 to 20 characters long",trigger:"blur"}],username:[{required:!0,message:"Please enter Username",trigger:"blur"},{min:3,max:100,message:"3 to 20 characters long",trigger:"blur"}],name:[{required:!0,message:"Please enter name",trigger:"blur"},{min:3,max:100,message:"3 to 20 characters long",trigger:"blur"}],password:[{required:!0,message:"Please enter Password",trigger:"blur"},{min:8,max:20,message:"8 to 20 characters long",trigger:"blur"}]}}},watch:{},created:function(){this.getQuery()},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.loading=!0,"update"===t.type?t.putUpdate():t.postCreate()}))},onChange:function(e){console.log(e)},resetForm:function(e){this.$refs[e].resetFields()},getQuery:function(){var e=this.$route.query||{};this.querys=e,"update"===this.type&&this.getDetail()},postCreate:function(){var e=this;(0,o.Ue)(this.formData).then((function(){e.loading=!1,e.$message({message:"Congratulations, the operation was successful",type:"success",duration:1e3}),setTimeout((function(){e.$router.push("".concat(u,"list"))}),1e3)})).catch((function(){e.loading=!1}))},putUpdate:function(){var e=this;(0,o.Vx)(this.formData).then((function(){e.loading=!1,e.$message({message:"Congratulations, the operation was successful",type:"success",duration:1e3}),setTimeout((function(){e.$router.push("".concat(u,"list"))}),1e3)})).catch((function(){e.loading=!1}))},getDetail:function(){var e=this;this.loading=!0,(0,o.Nm)(this.querys.id).then((function(t){e.loading=!1,e.formData=t}))}}},l=i,m=a(1001),c=(0,m.Z)(l,r,n,!1,null,null,null),f=c.exports},32786:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("create-update",{attrs:{type:e.type}})],1)},n=[],s=a(43864),o={name:"CreateUser",components:{CreateUpdate:s.Z},data:function(){return{type:"create"}}},u=o,i=a(1001),l=(0,i.Z)(u,r,n,!1,null,null,null),m=l.exports},62103:function(e,t,a){a.d(t,{Nm:function(){return o},Od:function(){return s},Ue:function(){return u},Vx:function(){return i},gQ:function(){return l},mE:function(){return n}});var r=a(84471);function n(e){return(0,r.Z)({url:"/users",method:"get",params:e})}function s(e){return(0,r.Z)({url:"/users",method:"delete",data:e})}function o(e){return(0,r.Z)({url:"/users/"+e,method:"get"})}function u(e){return(0,r.Z)({url:"/users",method:"post",data:e})}function i(e){return(0,r.Z)({url:"/users/"+e.id,method:"put",data:e})}function l(e){return(0,r.Z)({url:"/users/password/"+e.id,method:"put",data:e})}},77470:function(e,t,a){a.d(t,{v:function(){return r}});var r={routePath:"/user/"}}}]);