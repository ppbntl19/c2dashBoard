"use strict";(self["webpackChunkc2_cms_admin"]=self["webpackChunkc2_cms_admin"]||[]).push([[919],{31672:function(t,e,r){r.d(e,{Z:function(){return p}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"app-container"},[r("el-form",{ref:"validateForm",attrs:{model:t.formData,rules:t.rules,"label-width":"140px"}},[r("el-form-item",{attrs:{label:"Tag Name",prop:"name"}},[r("el-input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),r("el-form-item",{attrs:{label:"Routing",prop:"route"}},[r("el-input",{model:{value:t.formData.route,callback:function(e){t.$set(t.formData,"route",e)},expression:"formData.route"}})],1),r("el-form-item",{attrs:{label:"Description (SEO)",prop:"description"}},[r("el-input",{model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("validateForm")}}},[t._v("Submit")]),r("el-button",{on:{click:function(e){return t.resetForm("validateForm")}}},[t._v("Reset")])],1)],1)],1)},a=[],o=(r(57658),r(1620)),i=r(48289),u=r(51836),s=(r(95334),(0,u.LP)()),c=("Bearer ".concat(s),{name:"PostCreateUpdate",filters:{},props:{type:{type:String,default:function(){return"create"}}},data:function(){return{loading:!1,querys:{id:""},formData:{id:"",name:"",route:"",description:"",createdBy:this.$store.state.user.userInfo.id},rules:{name:[{required:!0,message:"Please enter a tag",trigger:"blur"},{min:1,max:40,message:"Length between 1 and 40 characters",trigger:"blur"}],route:[{required:!0,message:"Please enter a Route",trigger:"blur"},{min:1,max:100,message:"1 to 100 characters long",trigger:"blur"}],description:[{required:!1,message:"Please enter a Description",trigger:"blur"},{min:1,max:1e3,message:"1 to 1000 characters long",trigger:"blur"}]}}},watch:{},created:function(){this.getQuery()},methods:{submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.loading=!0,"update"===e.type?e.putUpdate():e.postCreate()}))},resetForm:function(t){this.$refs[t].resetFields()},onUploadChange:function(t){this.formData.pic=t.path},onChoiceTag:function(t){console.log("onChoiceTag",t),this.formData.parent=t},onResetTag:function(){this.formData.parent=[]},getQuery:function(){var t=this.$route.query||{};this.querys=t,"update"===this.type&&this.getDetail()},defaultTagParent:function(){var t=this.formData.parent||[];return t.length>0?t:["0"]},hasTag:function(){var t=this.formData.parent||[],e=this.formData.id;if(console.log(t,e),t.indexOf(e)>-1)return!0},postCreate:function(){var t=this;(0,o.Ue)(this.formData).then((function(){t.loading=!1,t.$message({message:"Congratulations, the operation was successful",type:"success",duration:1e3}),setTimeout((function(){t.$router.push("".concat(i.v.routePath,"list"))}),1e3)}))},putUpdate:function(){var t=this;(0,o.Vx)(this.formData).then((function(){t.loading=!1,t.$message({message:"Congratulations, the operation was successful",type:"success",duration:1e3}),setTimeout((function(){t.$router.push("".concat(i.v.routePath,"list"))}),1e3)}))},getDetail:function(){var t=this;this.loading=!0,(0,o.Nm)(this.querys.id).then((function(e){t.loading=!1,t.formData=e}))}}}),l=c,f=r(1001),m=(0,f.Z)(l,n,a,!1,null,null,null),p=m.exports},90476:function(t,e,r){r.r(e),r.d(e,{default:function(){return l}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("create-update",{attrs:{type:t.type}})],1)},a=[],o=r(31672),i={name:"CreateAbout",components:{CreateUpdate:o.Z},data:function(){return{type:"create"}}},u=i,s=r(1001),c=(0,s.Z)(u,n,a,!1,null,null,null),l=c.exports},95334:function(t,e,r){r.d(e,{I:function(){return i}});var n=r(50124),a=r(48534),o=(r(92222),r(41539),r(42325)),i=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e,r,a){var i,u,s;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=new FormData,i.append("upload_preset",o.nr),i.append("folder",a||"/content/articles"),i.append("tags",r||"browser_upload"),i.append("file",e),u="".concat(o.lQ,"/").concat(o.Ke,"/upload"),t.prev=6,t.next=9,fetch(u,{method:"POST",body:i});case 9:return s=t.sent,t.next=12,s.json();case 12:return t.abrupt("return",t.sent);case 15:return t.prev=15,t.t0=t["catch"](6),t.abrupt("return",console.error(t.t0));case 18:case"end":return t.stop()}}),t,null,[[6,15]])})));return function(e,r,n){return t.apply(this,arguments)}}()},1620:function(t,e,r){r.d(e,{Nm:function(){return u},Od:function(){return i},Ue:function(){return s},Vx:function(){return c},mE:function(){return o}});var n=r(84471),a="/tags/";function o(t){return(0,n.Z)({url:"".concat(a),method:"get",params:t})}function i(t){return(0,n.Z)({url:"".concat(a),method:"delete",data:t})}function u(t){return(0,n.Z)({url:"".concat(a+t),method:"get"})}function s(t){return(0,n.Z)({url:"".concat(a),method:"post",data:t})}function c(t){return(0,n.Z)({url:"".concat(a+t.id),method:"put",data:t})}},48289:function(t,e,r){r.d(e,{v:function(){return n}});var n={routePath:"/post/tag/"}}}]);